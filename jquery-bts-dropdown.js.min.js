{"version":3,"file":"jquery-bts-dropdown.js","sources":["jquery-bts-dropdown.js"],"names":["$","dropdown","default","placeholder","classes","items","value","fn","method","Plugin","element","call","this","eq","each","self","isFunction","charAt","apply","Array","prototype","slice","arguments","init","options","data","isPlainObject","tagName","push","attr","label","text","extend","console","log","selected","filter","is","length","val","_isOption","_getLabel","tpl","Handlebars","compile","template","out","wrapper","addClass","id","hide","wrap","$el","parent","append","_attach","destroy","before","remove","show","removeData","join","select","click","removeClass","trigger","jQuery"],"mappings":"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","sourcesContent":[";(function($){\r\n\t/**\r\n\t * dropdown select plugin\r\n\t * Build a dropdown select with bootstrap\r\n\t */\r\n\t $.dropdown.default = {\r\n\t\tplaceholder: null,\r\n\t\tclasses: '',\r\n\t\titems: [],\r\n\t\tvalue: null\r\n\t};\r\n\r\n\t$.fn.dropdown = function(method){\r\n\t\tif (method === 'element') {\r\n\t\t\treturn Plugin.element.call(this.eq(0));\r\n\t\t}\r\n\r\n\t\tthis.each(function(){\r\n\t\t\tvar self = $(this);\r\n\t\t\t\r\n\t\t\tif ($.isFunction(Plugin[method]) && method.charAt(0) != '_'){\r\n\t\t\t\treturn Plugin[method].apply(self, Array.prototype.slice.call(arguments, 1));\r\n\t\t\t} else {\r\n\t\t\t\treturn Plugin.init.apply(self, arguments);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\tvar Plugin = {\r\n\t\tinit: function(options) {\r\n\t\t\tif (this.data('dropdown')) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tif (!$.isPlainObject(options)) {\r\n\t\t\t\toptions = {};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this[0].tagName == 'SELECT') {\r\n\t\t\t\tvar items = $('option', this);\r\n\t\t\t\toptions.items = [];\r\n\t\t\t\t\r\n\t\t\t\t$.each(items, function(){\r\n\t\t\t\t\toptions.items.push({\r\n\t\t\t\t\t\tvalue: $(this).attr('value'),\r\n\t\t\t\t\t\tlabel: $(this).text()\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.options = $.extend({}, $.dropdown.default, options);\r\n\r\n\t\t\tconsole.log(this.options, $.dropdown.default);\r\n\t\t\t\r\n\t\t\tif (this.options.value === null) {\r\n\t\t\t\tvar selected = $('option', this).filter(function(){\r\n\t\t\t\t\treturn $(this).is('[selected]');\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tif (selected.length > 0) {\r\n\t\t\t\t\tthis.options.value = selected.val();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.options.placeholder === null) {\r\n\t\t\t\tthis.options.placeholder = this.data('placeholder') || '-';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!Plugin._isOption.call(this, this.options.value)) {\r\n\t\t\t\tthis.options.selected = this.options.placeholder;\r\n\t\t\t\tthis.options.value = null;\r\n\t\t\t} else {\r\n\t\t\t\tthis.options.selected = Plugin._getLabel.call(this, this.options.value);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar tpl = Handlebars.compile(Plugin.template),\r\n\t\t\t\tout = tpl(this.options),\r\n\t\t\t\twrapper = $('<div/>').addClass('btn-group dropdown btn-block');\r\n\r\n\t\t\tif (this.options.classes) {\r\n\t\t\t\twrapper.addClass(this.options.classes);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.options.id) {\r\n\t\t\t\twrapper.addClass(this.options.id);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.hide().wrap(wrapper);\r\n\t\t\t\r\n\t\t\tvar $el = this.parent();\r\n\t\t\t\r\n\t\t\t$el.append(out);\r\n\t\t\t\r\n\t\t\tPlugin._attach.apply(this);\r\n\r\n\t\t\tthis.data('dropdown', true);\r\n\t\t\tthis.data('$el', $el);\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\telement: function(){\r\n\t\t\treturn this.data('$el');\r\n\t\t},\r\n\t\t\r\n\t\tdestroy: function(){\r\n\t\t\tvar $el = Plugin.element.call(this);\r\n\t\t\t$el.before(this);\r\n\t\t\t$el.remove();\r\n\t\t\tthis.show();\r\n\t\t\tthis.removeData('$el');\r\n\t\t\tthis.removeData('dropdown');\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t\r\n\t\ttemplate: [\r\n                \t'<button data-toggle=\"dropdown\" class=\"btn dropdown-toggle btn-block\" type=\"button\">',\r\n                \t\t'<span class=\"pull-left\">{{selected}}</span> ',\r\n                \t\t'<span class=\"caret\" style=\"position:absolute;right:5px;top:46%;\"> </span> ',\r\n                \t\t'<span class=\"remove\" style=\"position:absolute;right:15px;top:23%;display:block;height:0;\">&times;</span> ',\r\n                \t\t'<span class=\"pull-right error fa fa-exclamation-triangle hidden\"></span> ',\r\n                \t'</button>',\r\n                    '<ul role=\"menu\" class=\"dropdown-menu\">',\r\n                        '{{#each items}}<li><a href=\"#\" data-value=\"{{value}}\">{{label}}</a></li>{{/each}}',\r\n                    '</ul>'].join(''),\r\n\t\t\r\n\t\t_attach: function(){\r\n\t\t\tvar select = this,\r\n\t\t\t\t$el = Plugin.element.call(this),\r\n\t\t\t\tplaceholder = $('button span', $el).eq(0),\r\n\t\t\t\tdropdown = $('.btn-group', $el),\r\n\t\t\t\tremove = $('.remove', $el),\r\n\t\t\t\toptions = this.options;\r\n\t\t\t\r\n\t\t\tif (options.value === null) {\r\n\t\t\t\tremove.hide();\r\n\t\t\t\tselect.val('');\r\n\t\t\t} else {\r\n\t\t\t\tselect.val(options.value);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$('a', $el).click(function(){\r\n\t\t\t\tvar self = $(this);\r\n\t\t\t\t\r\n\t\t\t\tselect.val(self.data('value'));\r\n\t\t\t\tdropdown.removeClass('open');\r\n\t\t\t\tplaceholder.text(self.text());\r\n\t\t\t\tremove.show();\r\n\t\t\t\tselect.trigger('change');\r\n\t\t\t\t\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tremove.click(function(){\r\n\t\t\t\tplaceholder.text(options.placeholder);\r\n\t\t\t\tselect.val('');\r\n\t\t\t\tremove.hide();\r\n\t\t\t\tselect.trigger('change');\r\n\t\t\t\t\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t_isOption: function(value){\r\n\t\t\tif (value === null){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn $('option', this).filter(function(){\r\n\t\t\t\treturn $(this).val() == value;\r\n\t\t\t}).length > 0;\r\n\t\t},\r\n\t\t\r\n\t\t_getLabel: function(value) {\r\n\t\t\treturn $('option', this).filter(function(){\r\n\t\t\t\treturn $(this).val() == value;\r\n\t\t\t}).text();\r\n\t\t}\r\n\t};\r\n})(jQuery);"],"sourceRoot":"/source/"}